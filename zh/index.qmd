---
title: "CRGE 历史数据库"
---

```{r}
#| label: setup
#| include: false
library(dplyr)
library(glue)
library(knitr)

# Load the full dataset
df <- read.csv("../data.csv", stringsAsFactors = FALSE)
```

欢迎访问**CRGE历史数据库**，这是一个记录东亚基督教传教史和宗教机构的综合资源。该数据库提供按地区和时间段组织的详细历史信息。

## 关于此数据库

这个数字档案馆包含了对基督教传教活动、宗教运动以及东亚地区（包括中国、韩国、日本、台湾、香港和满洲）文化互动的广泛记录。内容涵盖从19世纪末到现代，为基督教与当地社会之间的复杂关系提供了深入的见解。

## 数据库概览

```{r}
#| label: database_stats
#| results: asis
#| echo: false

# Calculate basic statistics
total_entries <- nrow(df)
total_areas <- length(unique(df$area[!is.na(df$area) & df$area != ""]))
total_periods <- length(unique(df$period[!is.na(df$period) & df$period != ""]))
total_topics <- length(unique(df$topic[!is.na(df$topic) & df$topic != ""]))

# Count entries with Chinese content
entries_with_content <- df %>%
  filter(!is.na(text_zh), nzchar(text_zh)) %>%
  nrow()

cat(glue("- **数据库总条目数：** {format(total_entries, big.mark = ',')}\n"))
cat(glue("- **地理区域：** {total_areas}\n"))
cat(glue("- **时间段：** {total_periods}\n"))
cat(glue("- **涵盖主题：** {total_topics}\n"))
cat(glue("- **包含中文内容的条目：** {format(entries_with_content, big.mark = ',')}\n\n"))
```

## 地理覆盖范围

```{r}
#| label: geographic_breakdown
#| results: asis
#| echo: false

# Get breakdown by area
area_stats <- df %>%
  filter(!is.na(area), area != "") %>%
  group_by(area) %>%
  summarise(
    total_entries = n(),
    periods = n_distinct(period[!is.na(period) & period != ""]),
    with_chinese = sum(!is.na(text_zh) & nzchar(text_zh)),
    .groups = 'drop'
  ) %>%
  arrange(desc(total_entries))

# Area name translations
area_translations <- c(
  "China" = "中国",
  "Korea" = "韩国", 
  "Japan" = "日本",
  "Taiwan" = "台湾",
  "Hong Kong" = "香港",
  "Manchuria" = "满洲"
)

for (i in 1:nrow(area_stats)) {
  area_en <- area_stats$area[i]
  area_zh <- ifelse(area_en %in% names(area_translations), area_translations[area_en], area_en)
  total <- area_stats$total_entries[i]
  periods <- area_stats$periods[i]
  chinese <- area_stats$with_chinese[i]
  
  cat(glue("**{area_zh}：** {format(total, big.mark = ',')} 条目，跨越 {periods} 个时间段（{format(chinese, big.mark = ',')} 条包含中文内容）\n\n"))
}
```

## 按地区浏览

<div style="text-align: right; margin-bottom: 1rem;">
<a href="../en/index.html" style="text-decoration: none; color: #007bff; font-weight: bold;">Switch to English →</a>
</div>

### 🇨🇳 中国
- [1900年前](China/Pre1900.html)
- [1900-1910](China/1900-1910.html)
- *更多时期即将推出*

### 🇰🇷 韩国
- [1900年前](Korea/Pre-1900/Agency/Christian-Leaders.html)
- [1900-1910](Korea/1900-1910/Agency/Christian-Leaders.html)
- [1910-1920](Korea/1910-1920/Agency/Christian-Leaders.html)
- [1920-1930](Korea/1920-1930/Agency/Christian-Leaders.html)
- [1930-1940](Korea/1930-1940/Agency/Christian-Leaders.html)
- [1940-1950](Korea/1940-1950/Agency/Christian-Leaders.html)
- [1950-1960](Korea/1950-1960/Agency/Christian-Leaders.html)
- [1960-1970](Korea/1960-1970/Agency/Christian-Leaders.html)
- [1970-1980](Korea/1970-1980/Agency/Christian-Leaders.html)
- [1980-1990](Korea/1980-1990/Agency/Christian-Leaders.html)
- [1990-2000](Korea/1990-2000/Agency/Christian-Leaders.html)

### 🇯🇵 日本
*即将推出*

### 🇹🇼 台湾
*即将推出*

### 🇭🇰 香港
*即将推出*

### 满洲
*即将推出*

## 内容组织结构

每个地区部分按以下方式组织：

- **机构**（宗教行为者和运动）
  - 基督教或亲基督教领袖
  - 基督教或亲基督教组织
  - 基督教或亲基督教事件/运动
  - 关键神学问题
  - 反基督教领袖
  - 反基督教组织
  - 反基督教事件/运动
  - 参考书目

- **背景**（历史背景）
  - 政府宗教法规
  - 社会对基督教的敌意
  - 地缘政治动态
  - 参考书目

## 内容样例

```{r}
#| label: sample_content
#| results: asis
#| echo: false

# Show a sample entry
sample_entry <- df %>%
  filter(!is.na(text_zh), nzchar(text_zh), 
         !is.na(area), !is.na(period), !is.na(topic), !is.na(section)) %>%
  slice(1)

if (nrow(sample_entry) > 0) {
  area_en <- sample_entry$area[1]
  area_zh <- ifelse(area_en %in% names(area_translations), area_translations[area_en], area_en)
  period <- sample_entry$period[1]
  topic <- sample_entry$topic[1]
  section <- sample_entry$section[1]
  text <- sample_entry$text_zh[1]
  
  # Truncate text if too long
  if (nchar(text) > 300) {
    text <- paste0(substr(text, 1, 300), "...")
  }
  
  cat(glue("以下是来自**{area_zh}（{period}）**主题**{topic}**，章节**{section}**的示例条目：\n\n"))
  cat(glue("> {text}\n\n"))
  cat("*使用侧边栏按地区和时间段浏览更多内容。*\n\n")
}
```

---

*全球东方宗教中心*