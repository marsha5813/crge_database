"0","#| label: render_china_pre1900"
"0","#| results: asis"
"0","#| echo: false"
"0",""
"0","# We know we’re in “China / Pre1900,” so we can group by Topic → Section:"
"0","for (T in unique(china_pre1900$topic)) {"
"0","  cat(glue(""## Topic: {T}\n\n""))"
"0","  topic_df <- china_pre1900 %>% filter(topic == T)"
"0","  for (S in unique(topic_df$section)) {"
"0","    txts <- topic_df %>% filter(section == S) %>% pull(text_en)"
"0","    txts_nonempty <- txts[!is.na(txts) & nzchar(txts)]"
"0","    if (length(txts_nonempty) > 0) {"
"0","      cat(glue(""### Section: {S}\n\n""))"
"0","      print_text(txts_nonempty)"
"0","      cat(""\n"")"
"0","    }"
"0","  }"
"0","}"
"1","## Topic: Agency
"
"1","## Topic: Context
"
